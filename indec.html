<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ManzNews</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            red: '#DC2626', // Red-600
                            dark: '#1F2937',
                            light: '#F3F4F6'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        /* Hide scrollbar for clean look */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #DC2626; border-radius: 4px; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">

    <!-- Navbar -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center cursor-pointer" onclick="showSection('home')">
                    <i class="fa-solid fa-newspaper text-brand-red text-2xl mr-2"></i>
                    <span class="font-bold text-2xl tracking-tight text-gray-900">Manz<span class="text-brand-red">News</span></span>
                </div>
                <div class="flex items-center space-x-4">
                    <button onclick="showSection('home')" class="text-gray-600 hover:text-brand-red px-3 py-2 rounded-md text-sm font-medium transition">Beranda</button>
                    <button onclick="showSection('profile')" class="text-gray-600 hover:text-brand-red px-3 py-2 rounded-md text-sm font-medium transition">Virtual Account</button>
                    <!-- Secret Admin Button (Hidden in plain sight) -->
                    <button onclick="toggleAdminPanel()" class="text-gray-300 hover:text-brand-red text-xs"><i class="fa-solid fa-lock"></i></button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app" class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        
        <!-- HOME SECTION (Article Feed) -->
        <div id="home-section" class="fade-in">
            <div class="text-center mb-12">
                <h1 class="text-4xl font-bold text-gray-900 mb-4">Selamat Datang di <span class="text-brand-red">ManzNews</span></h1>
                <p class="text-gray-600 text-lg">Sumber informasi terpercaya dan terkini.</p>
            </div>

            <!-- Empty State -->
            <div id="empty-state" class="hidden flex flex-col items-center justify-center py-20 text-center">
                <div class="bg-red-100 p-6 rounded-full mb-4">
                    <i class="fa-regular fa-folder-open text-4xl text-brand-red"></i>
                </div>
                <h3 class="text-xl font-semibold text-gray-800">Belum ada artikel</h3>
                <p class="text-gray-500 mt-2">Admin sedang menyiapkan konten terbaik.</p>
            </div>

            <!-- Articles Grid -->
            <div id="articles-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Articles injected by JS -->
            </div>
        </div>

        <!-- ARTICLE DETAIL SECTION -->
        <div id="detail-section" class="hidden fade-in max-w-4xl mx-auto">
            <button onclick="showSection('home')" class="mb-6 text-brand-red hover:underline flex items-center">
                <i class="fa-solid fa-arrow-left mr-2"></i> Kembali ke Beranda
            </button>
            <article class="bg-white rounded-xl shadow-lg overflow-hidden">
                <img id="detail-image" src="" alt="Article Image" class="w-full h-64 object-cover">
                <div class="p-8">
                    <div class="flex items-center text-sm text-gray-500 mb-4">
                        <span id="detail-date" class="mr-4"><i class="far fa-calendar-alt mr-1"></i> Date</span>
                        <span class="text-brand-red font-semibold">Admin ManzNews</span>
                    </div>
                    <h1 id="detail-title" class="text-3xl font-bold text-gray-900 mb-6">Title</h1>
                    <div id="detail-content" class="prose max-w-none text-gray-700 leading-relaxed whitespace-pre-line">
                        Content
                    </div>
                </div>
            </article>
        </div>

        <!-- PROFILE / VIRTUAL ACCOUNT SECTION -->
        <div id="profile-section" class="hidden fade-in max-w-2xl mx-auto">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <div class="border-b border-gray-200 pb-4 mb-6 flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-gray-900">Virtual Account Anda</h2>
                    <span class="bg-brand-red text-white text-xs px-2 py-1 rounded">Viewer Mode</span>
                </div>

                <!-- Display Profile -->
                <div id="profile-display" class="hidden text-center">
                    <div class="w-24 h-24 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center text-3xl text-gray-500">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <h3 id="display-name" class="text-2xl font-bold text-gray-900">Nama Pengguna</h3>
                    <p id="display-bio" class="text-gray-600 mt-2 italic">"Bio pengguna akan muncul di sini"</p>
                    
                    <div class="mt-6 flex justify-center space-x-4">
                        <a id="display-web" href="#" target="_blank" class="text-gray-500 hover:text-brand-red transition hidden">
                            <i class="fa-solid fa-globe text-xl"></i>
                        </a>
                        <a id="display-social" href="#" target="_blank" class="text-gray-500 hover:text-brand-red transition hidden">
                            <i class="fa-brands fa-instagram text-xl"></i>
                        </a>
                    </div>
                    
                    <button onclick="toggleProfileEdit(true)" class="mt-8 px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition">
                        Edit Profil
                    </button>
                </div>

                <!-- Edit Profile Form -->
                <form id="profile-form" onsubmit="saveProfile(event)" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Nama Lengkap</label>
                        <input type="text" id="input-name" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-red focus:ring focus:ring-red-200 focus:ring-opacity-50 p-2 border" placeholder="Masukkan nama anda">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Bio Singkat</label>
                        <textarea id="input-bio" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-red focus:ring focus:ring-red-200 focus:ring-opacity-50 p-2 border" placeholder="Ceritakan sedikit tentang anda"></textarea>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Website URL</label>
                            <input type="url" id="input-web" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-red focus:ring focus:ring-red-200 focus:ring-opacity-50 p-2 border" placeholder="https://...">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Sosial Media (Link)</label>
                            <input type="url" id="input-social" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-red focus:ring focus:ring-red-200 focus:ring-opacity-50 p-2 border" placeholder="https://instagram.com/...">
                        </div>
                    </div>
                    <div class="pt-4">
                        <button type="submit" class="w-full bg-brand-red text-white py-2 px-4 rounded-md hover:bg-red-700 transition font-semibold shadow-md">
                            Simpan Profil
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- ADMIN SECTION (Hidden unless logged in) -->
        <div id="admin-section" class="hidden fade-in max-w-3xl mx-auto">
            <div id="admin-login" class="bg-white p-8 rounded-xl shadow-lg text-center max-w-md mx-auto">
                <h2 class="text-2xl font-bold mb-4 text-brand-red">Admin Access</h2>
                <p class="mb-4 text-sm text-gray-500">Hanya pemilik ManzNews yang bisa masuk.</p>
                <input type="password" id="admin-pass" placeholder="Password (admin123)" class="w-full p-2 border rounded mb-4">
                <button onclick="checkAdmin()" class="w-full bg-gray-800 text-white py-2 rounded hover:bg-black">Login</button>
            </div>

            <div id="admin-dashboard" class="hidden bg-white p-8 rounded-xl shadow-lg">
                <div class="flex justify-between items-center mb-6 border-b pb-4">
                    <h2 class="text-2xl font-bold text-gray-900">Buat Artikel Baru</h2>
                    <button onclick="logoutAdmin()" class="text-sm text-red-500 hover:underline">Logout</button>
                </div>
                
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                    <p class="text-sm text-blue-700">
                        <strong>Info:</strong> Gunakan AI Khusus Anda untuk generate konten, lalu tempelkan hasilnya di sini.
                    </p>
                </div>

                <form onsubmit="publishArticle(event)" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Judul Artikel</label>
                        <input type="text" id="art-title" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">URL Gambar (Cover)</label>
                        <input type="url" id="art-image" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border" placeholder="https://source.unsplash.com/...">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Konten Artikel (Dari AI)</label>
                        <textarea id="art-content" required rows="10" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border" placeholder="Paste hasil generate AI di sini..."></textarea>
                    </div>
                    <button type="submit" class="w-full bg-brand-red text-white py-3 px-4 rounded-md hover:bg-red-700 transition font-bold shadow-lg">
                        <i class="fa-solid fa-paper-plane mr-2"></i> Publish Artikel
                    </button>
                </form>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white mt-auto py-8">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h2 class="text-2xl font-bold mb-2">Manz<span class="text-brand-red">News</span></h2>
            <p class="text-gray-400 text-sm mb-4">Berita terkini, di terbitkan oleh ManzNews</p>
            <div class="flex justify-center space-x-4 mb-4">
                <a href="#" class="text-gray-400 hover:text-white"><i class="fa-brands fa-twitter"></i></a>
                <a href="#" class="text-gray-400 hover:text-white"><i class="fa-brands fa-facebook"></i></a>
                <a href="#" class="text-gray-400 hover:text-white"><i class="fa-brands fa-instagram"></i></a>
            </div>
            <p class="text-gray-600 text-xs">&copy; 2026 ManzNews. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // --- DATA MANAGEMENT ---
        const getArticles = () => JSON.parse(localStorage.getItem('manznews_articles')) || [];
        const saveArticles = (articles) => localStorage.setItem('manznews_articles', JSON.stringify(articles));
        
        const getProfile = () => JSON.parse(localStorage.getItem('manznews_profile'));
        const saveUserProfile = (profile) => localStorage.setItem('manznews_profile', JSON.stringify(profile));

        // --- NAVIGATION ---
        function showSection(sectionId) {
            // Hide all sections
            ['home-section', 'detail-section', 'profile-section', 'admin-section'].forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });

            // Show target
            if (sectionId === 'home') {
                document.getElementById('home-section').classList.remove('hidden');
                renderHome();
            } else if (sectionId === 'profile') {
                document.getElementById('profile-section').classList.remove('hidden');
                renderProfile();
            } else if (sectionId === 'admin') {
                document.getElementById('admin-section').classList.remove('hidden');
            } else if (sectionId === 'detail') {
                document.getElementById('detail-section').classList.remove('hidden');
            }
            
            window.scrollTo(0,0);
        }

        // --- HOME LOGIC ---
        function renderHome() {
            const articles = getArticles();
            const grid = document.getElementById('articles-grid');
            const emptyState = document.getElementById('empty-state');

            grid.innerHTML = '';

            if (articles.length === 0) {
                emptyState.classList.remove('hidden');
                grid.classList.add('hidden');
            } else {
                emptyState.classList.add('hidden');
                grid.classList.remove('hidden');
                
                // Sort by newest
                articles.sort((a, b) => new Date(b.date) - new Date(a.date)).forEach(article => {
                    const card = document.createElement('div');
                    card.className = 'bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition duration-300 cursor-pointer flex flex-col h-full';
                    card.onclick = () => openArticle(article.id);
                    
                    // Truncate content for preview
                    const preview = article.content.substring(0, 100) + '...';

                    card.innerHTML = `
                        <div class="h-48 overflow-hidden">
                            <img src="${article.image}" alt="${article.title}" class="w-full h-full object-cover transform hover:scale-105 transition duration-500">
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <div class="text-xs text-brand-red font-semibold mb-2 uppercase tracking-wider">Berita Terbaru</div>
                            <h3 class="text-xl font-bold text-gray-900 mb-2 leading-tight">${article.title}</h3>
                            <p class="text-gray-600 text-sm mb-4 flex-grow">${preview}</p>
                            <div class="flex items-center justify-between text-xs text-gray-400 mt-auto pt-4 border-t">
                                <span>${new Date(article.date).toLocaleDateString()}</span>
                                <span class="text-gray-900 font-medium">Baca Selengkapnya &rarr;</span>
                            </div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            }
        }

        function openArticle(id) {
            const articles = getArticles();
            const article = articles.find(a => a.id === id);
            if (!article) return;

            document.getElementById('detail-image').src = article.image;
            document.getElementById('detail-title').innerText = article.title;
            document.getElementById('detail-content').innerText = article.content;
            document.getElementById('detail-date').innerText = new Date(article.date).toLocaleDateString('id-ID', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
            
            showSection('detail');
        }

        // --- PROFILE LOGIC ---
        function renderProfile() {
            const profile = getProfile();
            const displayDiv = document.getElementById('profile-display');
            const form = document.getElementById('profile-form');

            if (profile) {
                displayDiv.classList.remove('hidden');
                form.classList.add('hidden');

                document.getElementById('display-name').innerText = profile.name;
                document.getElementById('display-bio').innerText = profile.bio || "Tidak ada bio.";
                
                const webLink = document.getElementById('display-web');
                if (profile.web) {
                    webLink.href = profile.web;
                    webLink.classList.remove('hidden');
                } else {
                    webLink.classList.add('hidden');
                }

                const socialLink = document.getElementById('display-social');
                if (profile.social) {
                    socialLink.href = profile.social;
                    socialLink.classList.remove('hidden');
                } else {
                    socialLink.classList.add('hidden');
                }

                // Pre-fill form for editing
                document.getElementById('input-name').value = profile.name;
                document.getElementById('input-bio').value = profile.bio;
                document.getElementById('input-web').value = profile.web;
                document.getElementById('input-social').value = profile.social;

            } else {
                displayDiv.classList.add('hidden');
                form.classList.remove('hidden');
            }
        }

        function toggleProfileEdit(isEditing) {
            if (isEditing) {
                document.getElementById('profile-display').classList.add('hidden');
                document.getElementById('profile-form').classList.remove('hidden');
            }
        }

        function saveProfile(e) {
            e.preventDefault();
            const profile = {
                name: document.getElementById('input-name').value,
                bio: document.getElementById('input-bio').value,
                web: document.getElementById('input-web').value,
                social: document.getElementById('input-social').value
            };
            saveUserProfile(profile);
            renderProfile();
            alert("Profil Virtual Account berhasil disimpan!");
        }

        // --- ADMIN LOGIC ---
        function toggleAdminPanel() {
            showSection('admin');
        }

        function checkAdmin() {
            const pass = document.getElementById('admin-pass').value;
            // Simple hardcoded password for simulation
            if (pass === 'admin123') {
                document.getElementById('admin-login').classList.add('hidden');
                document.getElementById('admin-dashboard').classList.remove('hidden');
            } else {
                alert('Password salah! Akses ditolak.');
            }
        }

        function logoutAdmin() {
            document.getElementById('admin-login').classList.remove('hidden');
            document.getElementById('admin-dashboard').classList.add('hidden');
            document.getElementById('admin-pass').value = '';
            showSection('home');
        }

        function publishArticle(e) {
            e.preventDefault();
            const title = document.getElementById('art-title').value;
            const image = document.getElementById('art-image').value;
            const content = document.getElementById('art-content').value;

            if(!title || !content) return;

            const newArticle = {
                id: Date.now(),
                title,
                image,
                content,
                date: new Date().toISOString()
            };

            const articles = getArticles();
            articles.push(newArticle);
            saveArticles(articles);

            // Reset form
            document.getElementById('art-title').value = '';
            document.getElementById('art-image').value = '';
            document.getElementById('art-content').value = '';

            alert('Artikel berhasil dipublish!');
            showSection('home');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderHome();
        });

    </script>
</body>
</html>
